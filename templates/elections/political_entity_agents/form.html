{% extends 'elections/base.html' %}
{% load static %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>{{ page_title }}</h2>
    <hr>

    <form method="post" class="needs-validation" novalidate>
        {% csrf_token %}

        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="fas fa-user"></i> المعلومات الأساسية</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label>الكيان السياسي <span class="text-danger">*</span></label>
                        {{ form.political_entity }}`r`n                        {% if form.political_entity.errors %}<div class="text-danger">{{ form.political_entity.errors }}
                        </div>{% endif %}
                    </div>
                    <div class="col-md-6 mb-3">
                        <label>مدير المركز</label>
                        {{ form.center_director }}`r`n                        {% if form.center_director.errors %}<div class="text-danger">{{ form.center_director.errors }}
                        </div>{% endif %}
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label>الاسم الكامل <span class="text-danger">*</span></label>
                        {{ form.full_name }}`r`n                        {% if form.full_name.errors %}<div class="text-danger">{{ form.full_name.errors }}</div>{% endif
                        %}
                    </div>
                    <div class="col-md-3 mb-3">
                        <label>العمر <span class="text-danger">*</span></label>
                        {{ form.age }}`r`n                        {% if form.age.errors %}<div class="text-danger">{{ form.age.errors }}</div>{% endif %}
                    </div>
                    <div class="col-md-3 mb-3">
                        <label>رقم الهاتف <span class="text-danger">*</span></label>
                        {{ form.phone }}`r`n                        {% if form.phone.errors %}<div class="text-danger">{{ form.phone.errors }}</div>{% endif %}
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label>رقم الناخب <span class="text-danger">*</span></label>
                        {{ form.voter_number }}`r`n                        {% if form.voter_number.errors %}<div class="text-danger">{{ form.voter_number.errors }}</div>{%
                        endif %}
                    </div>
                    <div class="col-md-6 mb-3">
                        <label>رقم البطاقة الوطنية</label>
                        {{ form.national_id }}`r`n                        {% if form.national_id.errors %}<div class="text-danger">{{ form.national_id.errors }}</div>{%
                        endif %}
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="fas fa-map-marker-alt"></i> معلومات المحطة</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label>رقم المركز <span class="text-danger">*</span></label>
                        {{ form.assigned_center_number }}`r`n                        {% if form.assigned_center_number.errors %}<div class="text-danger">{{
                            form.assigned_center_number.errors }}</div>{% endif %}
                    </div>
                    <div class="col-md-5 mb-3">
                        <label>اسم المركز</label>
                        {{ form.assigned_center_name }}`r`n                        {% if form.assigned_center_name.errors %}<div class="text-danger">{{
                            form.assigned_center_name.errors }}</div>{% endif %}
                    </div>
                    <div class="col-md-3 mb-3">
                        <label>رقم المحطة</label>
                        {{ form.assigned_station_number }}`r`n                        {% if form.assigned_station_number.errors %}<div class="text-danger">{{
                            form.assigned_station_number.errors }}</div>{% endif %}
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="fas fa-file-alt"></i> الحالة والوثائق</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label>الحالة</label>
                        {{ form.status }}
                    </div>
                    <div class="col-md-4 mb-3">
                        <label>رقم الباج</label>
                        {{ form.badge_number }}
                    </div>
                    <div class="col-md-4 mb-3">
                        <label>تاريخ إصدار الباج</label>
                        {{ form.badge_issue_date }}
                    </div>
                </div>

                <div class="mb-3">
                    <label>ملاحظات</label>
                    {{ form.notes }}
                </div>
            </div>
        </div>

        <div class="mt-4 mb-5">
            <button type="submit" class="btn btn-success btn-lg">
                <i class="fas fa-save"></i> حفظ
            </button>
            <a href="{% url 'political_entity_agent_list' %}" class="btn btn-secondary btn-lg">
                <i class="fas fa-times"></i> إلغاء
            </a>
        </div>
    </form>
</div>
{% endblock %}